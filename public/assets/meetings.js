!function(t,e){function n(e){t.extend(!0,ye,e)}function r(n,r,c){function l(t){Q?(C(),_(),O(),b(t)):d()}function d(){G=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),Q=t("<div class='fc-content' style='position:relative'/>").prependTo(n),X=new a(V,r),$=X.render(),$&&n.prepend($),y(r.defaultView),t(window).resize(k),m()||h()}function h(){setTimeout(function(){!te.start&&m()&&b()},0)}function v(){t(window).unbind("resize",k),X.destroy(),Q.remove(),n.removeClass("fc fc-rtl ui-widget")}function g(){return 0!==se.offsetWidth}function m(){return 0!==t("body")[0].offsetWidth}function y(e){if(!te||e!=te.name){le++,H();var n,r=te;r?((r.beforeHide||K)(),I(Q,Q.height()),r.element.hide()):I(Q,1),Q.css("overflow","hidden"),te=ue[e],te?te.element.show():te=ue[e]=new we[e](n=re=t("<div class='fc-view fc-view-"+e+"' style='position:absolute'/>").appendTo(Q),V),r&&X.deactivateButton(r.name),X.activateButton(e),b(),Q.css("overflow",""),r&&I(Q,1),n||(te.afterShow||K)(),le--}}function b(t){if(g()){le++,H(),ne===e&&C();var r=!1;!te.start||t||te.start>de||de>=te.end?(te.render(de,t||0),S(!0),r=!0):te.sizeDirty?(te.clearEvents(),S(),r=!0):te.eventsDirty&&(te.clearEvents(),r=!0),te.sizeDirty=!1,te.eventsDirty=!1,T(r),ee=n.outerWidth(),X.updateTitle(te.title);var a=new Date;a>=te.start&&te.end>a?X.disableButton("today"):X.enableButton("today"),le--,te.trigger("viewDisplay",se)}}function M(){_(),g()&&(C(),S(),H(),te.clearEvents(),te.renderEvents(fe),te.sizeDirty=!1)}function _(){t.each(ue,function(t,e){e.sizeDirty=!0})}function C(){ne=r.contentHeight?r.contentHeight:r.height?r.height-($?$.height():0)-A(Q):Math.round(Q.width()/Math.max(r.aspectRatio,.5))}function S(t){le++,te.setHeight(ne,t),re&&(re.css("position","relative"),re=null),te.setWidth(Q.width(),t),le--}function k(){if(!le)if(te.start){var t=++ce;setTimeout(function(){t==ce&&!le&&g()&&ee!=(ee=n.outerWidth())&&(le++,M(),te.trigger("windowResize",se),le--)},200)}else h()}function T(t){!r.lazyFetching||oe(te.visStart,te.visEnd)?E():t&&Y()}function E(){ie(te.visStart,te.visEnd)}function x(t){fe=t,Y()}function F(t){Y(t)}function Y(t){O(),g()&&(te.clearEvents(),te.renderEvents(fe,t),te.eventsDirty=!1)}function O(){t.each(ue,function(t,e){e.eventsDirty=!0})}function N(t,n,r){te.select(t,n,r===e?!0:r)}function H(){te&&te.unselect()}function z(){b(-1)}function L(){b(1)}function R(){i(de,-1),b()}function W(){i(de,1),b()}function P(){de=new Date,b()}function B(t,e,n){t instanceof Date?de=f(t):p(de,t,e,n),b()}function j(t,n,r){t!==e&&i(de,t),n!==e&&s(de,n),r!==e&&u(de,r),b()}function U(){return f(de)}function Z(){return te}function q(t,n){return n===e?r[t]:(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(r[t]=n,M()),e)}function J(t,n){return r[t]?r[t].apply(n||se,Array.prototype.slice.call(arguments,2)):e}var V=this;V.options=r,V.render=l,V.destroy=v,V.refetchEvents=E,V.reportEvents=x,V.reportEventChange=F,V.rerenderEvents=Y,V.changeView=y,V.select=N,V.unselect=H,V.prev=z,V.next=L,V.prevYear=R,V.nextYear=W,V.today=P,V.gotoDate=B,V.incrementDate=j,V.formatDate=function(t,e){return D(t,e,r)},V.formatDates=function(t,e,n){return w(t,e,n,r)},V.getDate=U,V.getView=Z,V.option=q,V.trigger=J,o.call(V,r,c);var X,$,Q,G,te,ee,ne,re,ae,oe=V.isFetchNeeded,ie=V.fetchEvents,se=n[0],ue={},ce=0,le=0,de=new Date,fe=[];p(de,r.year,r.month,r.date),r.droppable&&t(document).bind("dragstart",function(e,n){var a=e.target,o=t(a);if(!o.parents(".fc").length){var i=r.dropAccept;(t.isFunction(i)?i.call(a,o):o.is(i))&&(ae=a,te.dragStart(ae,e,n))}}).bind("dragstop",function(t,e){ae&&(te.dragStop(ae,t,e),ae=null)})}function a(n,r){function a(){h=r.theme?"ui":"fc";var n=r.header;return n?v=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(i("left")).append(i("center")).append(i("right"))):e}function o(){v.remove()}function i(e){var a=t("<td class='fc-header-"+e+"'/>"),o=r.header[e];return o&&t.each(o.split(" "),function(e){e>0&&a.append("<span class='fc-header-space'/>");var o;t.each(this.split(","),function(e,i){if("title"==i)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(h+"-corner-right"),o=null;else{var s;if(n[i]?s=n[i]:we[i]&&(s=function(){l.removeClass(h+"-state-hover"),n.changeView(i)}),s){var u=r.theme?U(r.buttonIcons,i):null,c=U(r.buttonText,i),l=t("<span class='fc-button fc-button-"+i+" "+h+"-state-default'>"+(u?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+u+"'/>"+"</span>":c)+"</span>").click(function(){l.hasClass(h+"-state-disabled")||s()}).mousedown(function(){l.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-down")}).mouseup(function(){l.removeClass(h+"-state-down")}).hover(function(){l.not("."+h+"-state-active").not("."+h+"-state-disabled").addClass(h+"-state-hover")},function(){l.removeClass(h+"-state-hover").removeClass(h+"-state-down")}).appendTo(a);J(l),o||l.addClass(h+"-corner-left"),o=l}}}),o&&o.addClass(h+"-corner-right")}),a}function s(t){v.find("h2").html(t)}function u(t){v.find("span.fc-button-"+t).addClass(h+"-state-active")}function c(t){v.find("span.fc-button-"+t).removeClass(h+"-state-active")}function l(t){v.find("span.fc-button-"+t).addClass(h+"-state-disabled")}function d(t){v.find("span.fc-button-"+t).removeClass(h+"-state-disabled")}var f=this;f.render=a,f.destroy=o,f.updateTitle=s,f.activateButton=u,f.deactivateButton=c,f.disableButton=l,f.enableButton=d;var h,v=t([])}function o(n,r){function a(t,e){return!C||C>t||e>S}function o(t,e){C=t,S=e,H=[];var n=++Y,r=F.length;O=r;for(var a=0;r>a;a++)i(F[a],n)}function i(e,r){s(e,function(a){if(r==Y){if(a){n.eventDataTransform&&(a=t.map(a,n.eventDataTransform)),e.eventDataTransform&&(a=t.map(a,e.eventDataTransform));for(var o=0;a.length>o;o++)a[o].source=e,b(a[o]);H=H.concat(a)}O--,O||E(H)}})}function s(r,a){var o,i,u=De.sourceFetchers;for(o=0;u.length>o;o++){if(i=u[o](r,C,S,a),i===!0)return;if("object"==typeof i)return s(i,a),e}var c=r.events;if(c)t.isFunction(c)?(p(),c(f(C),f(S),function(t){a(t),y()})):t.isArray(c)?a(c):a();else{var l=r.url;if(l){var d=r.success,h=r.error,v=r.complete,g=t.extend({},r.data||{}),m=G(r.startParam,n.startParam),b=G(r.endParam,n.endParam);m&&(g[m]=Math.round(+C/1e3)),b&&(g[b]=Math.round(+S/1e3)),p(),t.ajax(t.extend({},Me,r,{data:g,success:function(e){e=e||[];var n=Q(d,this,arguments);t.isArray(n)&&(e=n),a(e)},error:function(){Q(h,this,arguments),a()},complete:function(){Q(v,this,arguments),y()}}))}else a()}}function u(t){t=c(t),t&&(O++,i(t,Y))}function c(n){return t.isFunction(n)||t.isArray(n)?n={events:n}:"string"==typeof n&&(n={url:n}),"object"==typeof n?(D(n),F.push(n),n):e}function l(e){F=t.grep(F,function(t){return!w(t,e)}),H=t.grep(H,function(t){return!w(t.source,e)}),E(H)}function d(t){var e,n,r=H.length,a=T().defaultEventEnd,o=t.start-t._start,i=t.end?t.end-(t._end||a(t)):0;for(e=0;r>e;e++)n=H[e],n._id==t._id&&n!=t&&(n.start=new Date(+n.start+o),n.end=t.end?n.end?new Date(+n.end+i):new Date(+a(n)+i):null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroudColor=t.backgroudColor,n.borderColor=t.borderColor,n.textColor=t.textColor,b(n));b(t),E(H)}function h(t,e){b(t),t.source||(e&&(x.events.push(t),t.source=x),H.push(t)),E(H)}function v(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}H=t.grep(H,e,!0);for(var r=0;F.length>r;r++)t.isArray(F[r].events)&&(F[r].events=t.grep(F[r].events,e,!0))}else{H=[];for(var r=0;F.length>r;r++)t.isArray(F[r].events)&&(F[r].events=[])}E(H)}function g(e){return t.isFunction(e)?t.grep(H,e):e?(e+="",t.grep(H,function(t){return t._id==e})):H}function p(){N++||k("loading",null,!0)}function y(){--N||k("loading",null,!1)}function b(t){var r=t.source||{},a=G(r.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+_e++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=f(t.start=m(t.start,a)),t.end=m(t.end,a),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?f(t.end):null,t.allDay===e&&(t.allDay=G(r.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function D(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=De.sourceNormalizers,n=0;e.length>n;n++)e[n](t)}function w(t,e){return t&&e&&M(t)==M(e)}function M(t){return("object"==typeof t?t.events||t.url:"")||t}var _=this;_.isFetchNeeded=a,_.fetchEvents=o,_.addEventSource=u,_.removeEventSource=l,_.updateEvent=d,_.renderEvent=h,_.removeEvents=v,_.clientEvents=g,_.normalizeEvent=b;for(var C,S,k=_.trigger,T=_.getView,E=_.reportEvents,x={events:[]},F=[x],Y=0,O=0,N=0,H=[],z=0;r.length>z;z++)c(r[z])}function i(t,e,n){return t.setFullYear(t.getFullYear()+e),n||d(t),t}function s(t,e,n){if(+t){var r=t.getMonth()+e,a=f(t);for(a.setDate(1),a.setMonth(r),t.setMonth(r),n||d(t);t.getMonth()!=a.getMonth();)t.setDate(t.getDate()+(a>t?1:-1))}return t}function u(t,e,n){if(+t){var r=t.getDate()+e,a=f(t);a.setHours(9),a.setDate(r),t.setDate(r),n||d(t),c(t,a)}return t}function c(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(e>t?1:-1)*ke)}function l(t,e){return t.setMinutes(t.getMinutes()+e),t}function d(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function f(t,e){return e?d(new Date(+t)):new Date(+t)}function h(){var t,e=0;do t=new Date(1970,e++,1);while(t.getHours());return t}function v(t,e,n){for(e=e||1;!t.getDay()||n&&1==t.getDay()||!n&&6==t.getDay();)u(t,e);return t}function g(t,e){return Math.round((f(t,!0)-f(e,!0))/Se)}function p(t,n,r,a){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),r!==e&&r!=t.getMonth()&&(t.setDate(1),t.setMonth(r)),a!==e&&t.setDate(a)}function m(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),y(t,n)||(t?new Date(t):null)):null}function y(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(e||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),a.setDate(n[5])),c(r,a),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),c(r,a)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var o=60*Number(n[16])+(n[18]?Number(n[18]):0);o*="-"==n[15]?1:-1,r=new Date(+r+6e4*o)}return r}function b(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function D(t,e,n){return w(t,null,e,n)}function w(t,e,n,r){r=r||ye;var a,o,i,s,u=t,c=e,l=n.length,d="";for(a=0;l>a;a++)if(o=n.charAt(a),"'"==o){for(i=a+1;l>i;i++)if("'"==n.charAt(i)){u&&(d+=i==a+1?"'":n.substring(a+1,i),a=i);break}}else if("("==o){for(i=a+1;l>i;i++)if(")"==n.charAt(i)){var f=D(u,n.substring(a+1,i),r);parseInt(f.replace(/\D/,""),10)&&(d+=f),a=i;break}}else if("["==o){for(i=a+1;l>i;i++)if("]"==n.charAt(i)){var h=n.substring(a+1,i),f=D(u,h,r);f!=D(c,h,r)&&(d+=f),a=i;break}}else if("{"==o)u=e,c=t;else if("}"==o)u=t,c=e;else{for(i=l;i>a;i--)if(s=Ee[n.substring(a,i)]){u&&(d+=s(u,r)),a=i-1;break}i==a&&u&&(d+=o)}return d}function M(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1}function _(t){return t.end?C(t.end,t.allDay):u(f(t.start),1)}function C(t,e){return t=f(t),e||t.getHours()||t.getMinutes()?u(t,1):d(t)}function S(t,e){return 100*(e.msLength-t.msLength)+(t.event.start-e.event.start)}function k(t,e){return t.end>e.start&&t.start<e.end}function T(t,e,n,r){var a,o,i,s,u,c,l,d,h=[],v=t.length;for(a=0;v>a;a++)o=t[a],i=o.start,s=e[a],s>n&&r>i&&(n>i?(u=f(n),l=!1):(u=i,l=!0),s>r?(c=f(r),d=!1):(c=s,d=!0),h.push({event:o,start:u,end:c,isStart:l,isEnd:d,msLength:c-u}));return h.sort(S)}function E(t){var e,n,r,a,o,i=[],s=t.length;for(e=0;s>e;e++){for(n=t[e],r=0;;){if(a=!1,i[r])for(o=0;i[r].length>o;o++)if(k(i[r][o],n)){a=!0;break}if(!a)break;r++}i[r]?i[r].push(n):i[r]=[n]}return i}function x(n,r,a){n.unbind("mouseover").mouseover(function(n){for(var o,i,s,u=n.target;u!=this;)o=u,u=u.parentNode;(i=o._fci)!==e&&(o._fci=e,s=r[i],a(s.event,s.element,s),t(n.target).trigger(n)),n.stopPropagation()})}function F(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.width(Math.max(0,n-O(a,r)))}function Y(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.height(Math.max(0,n-A(a,r)))}function O(t,e){return N(t)+z(t)+(e?H(t):0)}function N(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function H(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function z(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function A(t,e){return L(t)+W(t)+(e?R(t):0)}function L(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function R(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function W(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function I(t,e){e="number"==typeof e?e+"px":e,t.each(function(t,n){n.style.cssText+=";min-height:"+e+";_height:"+e})}function K(){}function P(t,e){return t-e}function B(t){return Math.max.apply(Math,t)}function j(t){return(10>t?"0":"")+t}function U(t,n){if(t[n]!==e)return t[n];for(var r,a=n.split(/(?=[A-Z])/),o=a.length-1;o>=0;o--)if(r=t[a[o].toLowerCase()],r!==e)return r;return t[""]}function Z(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function q(t){return t.id+"/"+t.className+"/"+t.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function J(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function V(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function X(t,e){t.each(function(t,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+Ce[e.getDay()])})}function $(t,e){var n=t.source||{},r=t.color,a=n.color,o=e("eventColor"),i=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||o,s=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||o,u=t.textColor||n.textColor||e("eventTextColor"),c=[];return i&&c.push("background-color:"+i),s&&c.push("border-color:"+s),u&&c.push("color:"+u),c.join(";")}function Q(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,o;for(a=0;e.length>a;a++)o=e[a].apply(n,r)||o;return o}}function G(){for(var t=0;arguments.length>t;t++)if(arguments[t]!==e)return arguments[t]}function te(t,e){function n(t,e){e&&(s(t,e),t.setDate(1));var n=f(t,!0);n.setDate(1);var c=s(f(n),1),l=f(n),d=f(c),h=a("firstDay"),g=a("weekends")?0:1;g&&(v(l),v(d,-1,!0)),u(l,-((l.getDay()-Math.max(h,g)+7)%7)),u(d,(7-d.getDay()+Math.max(h,g))%7);var p=Math.round((d-l)/(7*Se));"fixed"==a("weekMode")&&(u(d,7*(6-p)),p=6),r.title=i(n,a("titleFormat")),r.start=n,r.end=c,r.visStart=l,r.visEnd=d,o(p,g?5:7,!0)}var r=this;r.render=n,re.call(r,t,e,"month");var a=r.opt,o=r.renderBasic,i=e.formatDate}function ee(t,e){function n(t,e){e&&u(t,7*e);var n=u(f(t),-((t.getDay()-a("firstDay")+7)%7)),s=u(f(n),7),c=f(n),l=f(s),d=a("weekends");d||(v(c),v(l,-1,!0)),r.title=i(c,u(f(l),-1),a("titleFormat")),r.start=n,r.end=s,r.visStart=c,r.visEnd=l,o(1,d?7:5,!1)}var r=this;r.render=n,re.call(r,t,e,"basicWeek");var a=r.opt,o=r.renderBasic,i=e.formatDates}function ne(t,e){function n(t,e){e&&(u(t,e),a("weekends")||v(t,0>e?-1:1)),r.title=i(t,a("titleFormat")),r.start=r.visStart=f(t,!0),r.end=r.visEnd=u(f(r.start),1),o(1,1,!1)}var r=this;r.render=n,re.call(r,t,e,"basicDay");var a=r.opt,o=r.renderBasic,i=e.formatDate}function re(e,n,r){function a(t,e,n){ne=t,re=e,o();var r=!j;r?i():Te(),s(n)}function o(){ue=Se("isRTL"),ue?(ce=-1,de=re-1):(ce=1,de=0),pe=Se("firstDay"),ye=Se("weekends")?0:1,be=Se("theme")?"ui":"fc",De=Se("columnFormat"),we=Se("weekNumbers"),Me=Se("weekNumberTitle"),_e="iso"!=Se("weekNumberCalculation")?"w":"W"}function i(){$=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function s(n){var r,a,o,i,s="",u=be+"-widget-header",c=be+"-widget-content",l=W.start.getMonth(),f=d(new Date);for(s+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",we&&(s+="<th class='fc-week-number "+u+"'/>"),r=0;re>r;r++)o=Y(0,r),s+="<th class='fc-day-header fc-"+Ce[o.getDay()]+" "+u+"'/>";for(s+="</tr></thead><tbody>",r=0;ne>r;r++){for(s+="<tr class='fc-week'>",we&&(s+="<td class='fc-week-number "+c+"'>"+"<div/>"+"</td>"),a=0;re>a;a++)o=Y(r,a),i=["fc-day","fc-"+Ce[o.getDay()],c],o.getMonth()!=l&&i.push("fc-other-month"),+o==+f&&(i.push("fc-today"),i.push(be+"-state-highlight")),s+="<td class='"+i.join(" ")+"'"+" data-date='"+Ye(o,"yyyy-MM-dd")+"'"+">"+"<div>",n&&(s+="<div class='fc-day-number'>"+o.getDate()+"</div>"),s+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";s+="</tr>"}s+="</tbody></table>",L(),K&&K.remove(),K=t(s).appendTo(e),P=K.find("thead"),B=P.find(".fc-day-header"),j=K.find("tbody"),U=j.find("tr"),Z=j.find(".fc-day"),q=U.find("td:first-child"),X=U.eq(0).find(".fc-day-content > div"),V(P.add(P.find("tr"))),V(U),U.eq(0).addClass("fc-first"),U.filter(":last").addClass("fc-last"),we&&P.find(".fc-week-number").text(Me),B.each(function(e,n){var r=O(e);t(n).text(Ye(r,De))}),we&&j.find(".fc-week-number > div").each(function(e,n){var r=Y(e,0);t(n).text(Ye(r,_e))}),Z.each(function(e,n){var r=O(e);ke("dayRender",W,r,t(n))}),h(Z)}function c(e){G=e;var n,r,a,o=G-P.height();"variable"==Se("weekMode")?n=r=Math.floor(o/(1==ne?2:6)):(n=Math.floor(o/ne),r=o-n*(ne-1)),q.each(function(e,o){ne>e&&(a=t(o),I(a.find("> div"),(e==ne-1?r:n)-A(a)))}),R()}function l(t){Q=t,se.clear(),ee=0,we&&(ee=P.find("th.fc-week-number").outerWidth()),te=Math.floor((Q-ee)/re),F(B.slice(0,-1),te)}function h(t){t.click(v).mousedown(Fe)}function v(e){if(!Se("selectable")){var n=y(t(this).data("date"));ke("dayClick",this,n,!0,e)}}function p(t,e,n){n&&oe.build();for(var r=f(W.visStart),a=u(f(r),re),o=0;ne>o;o++){var i=new Date(Math.max(r,t)),s=new Date(Math.min(a,e));if(s>i){var c,l;ue?(c=g(s,r)*ce+de+1,l=g(i,r)*ce+de+1):(c=g(i,r),l=g(s,r)),h(m(o,c,o,l-1))}u(r,7),u(a,7)}}function m(t,n,r,a){var o=oe.rect(t,n,r,a,e);return Ee(o,e)}function b(t){return f(t)}function D(t,e){p(t,u(f(e),1),!0)}function w(){xe()}function M(t,e,n){var r=E(t),a=Z[r.row*re+r.col];ke("dayClick",a,t,e,n)}function _(t,e){ie.start(function(t){xe(),t&&m(t.row,t.col,t.row,t.col)},e)}function C(t,e,n){var r=ie.stop();if(xe(),r){var a=x(r);ke("drop",t,a,!0,e,n)}}function S(t){return f(t.start)}function k(t){return se.left(t)}function T(t){return se.right(t)}function E(t){return{row:Math.floor(g(t,W.visStart)/7),col:N(t.getDay())}}function x(t){return Y(t.row,t.col)}function Y(t,e){return u(f(W.visStart),7*t+e*ce+de)}function O(t){return Y(Math.floor(t/re),t%re)}function N(t){return(t-Math.max(pe,ye)+re)%re*ce+de}function H(t){return U.eq(t)}function z(){var t=0;return we&&(t+=ee),{left:t,right:Q}}function L(){I(e,e.height())}function R(){I(e,1)}var W=this;W.renderBasic=a,W.setHeight=c,W.setWidth=l,W.renderDayOverlay=p,W.defaultSelectionEnd=b,W.renderSelection=D,W.clearSelection=w,W.reportDayClick=M,W.dragStart=_,W.dragStop=C,W.defaultEventEnd=S,W.getHoverListener=function(){return ie},W.colContentLeft=k,W.colContentRight=T,W.dayOfWeekCol=N,W.dateCell=E,W.cellDate=x,W.cellIsAllDay=function(){return!0},W.allDayRow=H,W.allDayBounds=z,W.getRowCnt=function(){return ne},W.getColCnt=function(){return re},W.getColWidth=function(){return te},W.getDaySegmentContainer=function(){return $},le.call(W,e,n,r),he.call(W),fe.call(W),ae.call(W);var K,P,B,j,U,Z,q,X,$,Q,G,te,ee,ne,re,oe,ie,se,ue,ce,de,pe,ye,be,De,we,Me,_e,Se=W.opt,ke=W.trigger,Te=W.clearEvents,Ee=W.renderOverlay,xe=W.clearOverlays,Fe=W.daySelectionMousedown,Ye=n.formatDate;J(e.addClass("fc-grid")),oe=new ve(function(e,n){var r,a,o;B.each(function(e,i){r=t(i),a=r.offset().left,e&&(o[1]=a),o=[a],n[e]=o}),o[1]=a+r.outerWidth(),U.each(function(n,i){ne>n&&(r=t(i),a=r.offset().top,n&&(o[1]=a),o=[a],e[n]=o)}),o[1]=a+r.outerHeight()}),ie=new ge(oe),se=new me(function(t){return X.eq(t)})}function ae(){function e(t,e){h(t),k(r(t),e),c("eventAfterAllRender")}function n(){v(),b().empty()}function r(e){var n,r,a,o,s,c,l=C(),d=S(),h=f(i.visStart),v=u(f(h),d),g=t.map(e,_),p=[];for(n=0;l>n;n++){for(r=E(T(e,g,h,v)),a=0;r.length>a;a++)for(o=r[a],s=0;o.length>s;s++)c=o[s],c.row=n,c.level=a,p.push(c);u(h,7),u(v,7)}return p}function a(t,e,n){l(t)&&o(t,e),n.isEnd&&d(t)&&x(t,e,n),g(t,e)}function o(t,e){var n,r=D();e.draggable({zIndex:9,delay:50,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(a,o){c("eventDragStart",e,t,a,o),m(t,e),r.start(function(r,a,o,i){e.draggable("option","revert",!r||!o&&!i),M(),r?(n=7*o+i*(s("isRTL")?-1:1),w(u(f(t.start),n),u(_(t),n))):n=0},a,"drag")},stop:function(a,o){r.stop(),M(),c("eventDragStop",e,t,a,o),n?y(this,t,n,0,t.allDay,a,o):(e.css("filter",""),p(t,e))}})}var i=this;i.renderEvents=e,i.compileDaySegs=r,i.clearEvents=n,i.bindDaySeg=a,de.call(i);var s=i.opt,c=i.trigger,l=i.isEventDraggable,d=i.isEventResizable,h=i.reportEvents,v=i.reportEventClear,g=i.eventElementHandlers,p=i.showEvents,m=i.hideEvents,y=i.eventDrop,b=i.getDaySegmentContainer,D=i.getHoverListener,w=i.renderDayOverlay,M=i.clearOverlays,C=i.getRowCnt,S=i.getColCnt,k=i.renderDaySegs,x=i.resizableDayEvent}function oe(t,e){function n(t,e){e&&u(t,7*e);var n=u(f(t),-((t.getDay()-a("firstDay")+7)%7)),s=u(f(n),7),c=f(n),l=f(s),d=a("weekends");d||(v(c),v(l,-1,!0)),r.title=i(c,u(f(l),-1),a("titleFormat")),r.start=n,r.end=s,r.visStart=c,r.visEnd=l,o(d?7:5)}var r=this;r.render=n,se.call(r,t,e,"agendaWeek");var a=r.opt,o=r.renderAgenda,i=e.formatDates}function ie(t,e){function n(t,e){e&&(u(t,e),a("weekends")||v(t,0>e?-1:1));var n=f(t,!0),s=u(f(n),1);r.title=i(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=s,o(1)}var r=this;r.render=n,se.call(r,t,e,"agendaDay");var a=r.opt,o=r.renderAgenda,i=e.formatDate}function se(n,r,a){function o(t){Ae=t,i(),te?nn():s(),c()}function i(){Pe=tn("theme")?"ui":"fc",je=tn("weekends")?0:1,Be=tn("firstDay"),(Ue=tn("isRTL"))?(Ze=-1,qe=Ae-1):(Ze=1,qe=0),Je=b(tn("minTime")),Ve=b(tn("maxTime")),Xe=tn("columnFormat"),$e=tn("weekNumbers"),Qe=tn("weekNumberTitle"),Ge="iso"!=tn("weekNumberCalculation")?"w":"W",Ne=tn("snapMinutes")||tn("slotMinutes")}function s(){var e,r,a,o,i,s=Pe+"-widget-header",u=Pe+"-widget-content",c=0==tn("slotMinutes")%15;for(e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>",e+=$e?"<th class='fc-agenda-axis fc-week-number "+s+"'/>":"<th class='fc-agenda-axis "+s+"'>&nbsp;</th>",r=0;Ae>r;r++)e+="<th class='fc- fc-col"+r+" "+s+"'/>";for(e+="<th class='fc-agenda-gutter "+s+"'>&nbsp;</th>"+"</tr>"+"</thead>"+"<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+s+"'>&nbsp;</th>",r=0;Ae>r;r++)e+="<td class='fc- fc-col"+r+" "+u+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";for(e+="<td class='fc-agenda-gutter "+u+"'>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>",te=t(e).appendTo(n),ee=te.find("thead"),ne=ee.find("th").slice(1,-1),re=te.find("tbody"),ae=re.find("td").slice(0,-1),oe=ae.find("div.fc-day-content div"),ie=ae.eq(0),se=ie.find("> div"),V(ee.add(ee.find("tr"))),V(re.add(re.find("tr"))),Ce=ee.find("th:first"),Se=te.find(".fc-agenda-gutter"),ce=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),tn("allDaySlot")?(de=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ce),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+tn("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+s+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",pe=t(e).appendTo(ce),ye=pe.find("tr"),w(ye.find("td")),Ce=Ce.add(pe.find("th:first")),Se=Se.add(pe.find("th.fc-agenda-gutter")),ce.append("<div class='fc-agenda-divider "+s+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):de=t([]),be=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ce),De=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(be),we=t("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(De),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=h(),o=l(f(a),Ve),l(a,Je),Le=0,r=0;o>a;r++)i=a.getMinutes(),e+="<tr class='fc-slot"+r+" "+(i?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+s+"'>"+(c&&i?"&nbsp;":ln(a,tn("axisFormat")))+"</th>"+"<td class='"+u+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",l(a,tn("slotMinutes")),Le++;e+="</tbody></table>",Me=t(e).appendTo(De),_e=Me.find("div:first"),M(Me.find("td")),Ce=Ce.add(Me.find("th:first"))}function c(){var t,e,n,r,a=d(new Date);if($e){var o=ln(N(0),Ge);Ue?o+=Qe:o=Qe+o,ee.find(".fc-week-number").text(o)}for(t=0;Ae>t;t++)r=N(t),e=ne.eq(t),e.html(ln(r,Xe)),n=ae.eq(t),+r==+a?n.addClass(Pe+"-state-highlight fc-today"):n.removeClass(Pe+"-state-highlight fc-today"),X(e.add(n),r)}function v(t,n){t===e&&(t=Ee),Ee=t,dn={};var r=re.position().top,a=be.position().top,o=Math.min(t-r,Me.height()+a+1);se.height(o-A(ie)),ce.css("top",r),be.height(o-a-1),Oe=_e.height()+1,He=tn("slotMinutes")/Ne,ze=Oe/He,n&&m()}function p(e){Te=e,Ie.clear(),xe=0,F(Ce.width("").each(function(e,n){xe=Math.max(xe,t(n).outerWidth())}),xe);var n=be[0].clientWidth;Ye=be.width()-n,Ye?(F(Se,Ye),Se.show().prev().removeClass("fc-last")):Se.hide().prev().addClass("fc-last"),Fe=Math.floor((n-xe)/Ae),F(ne.slice(0,-1),Fe)}function m(){function t(){be.scrollTop(r)}var e=h(),n=f(e);n.setHours(tn("firstHour"));var r=L(e,n)+1;t(),setTimeout(t,0)}function y(){Ke=be.scrollTop()}function D(){be.scrollTop(Ke)}function w(t){t.click(_).mousedown(un)}function M(t){t.click(_).mousedown(Z)}function _(t){if(!tn("selectable")){var e=Math.min(Ae-1,Math.floor((t.pageX-te.offset().left-xe)/Fe)),n=N(e),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var a=parseInt(r[1])*tn("slotMinutes"),o=Math.floor(a/60);n.setHours(o),n.setMinutes(a%60+Je),en("dayClick",ae[e],n,!1,t)}else en("dayClick",ae[e],n,!0,t)}}function C(t,e,n){n&&Re.build();var r,a,o=f(G.visStart);Ue?(r=g(e,o)*Ze+qe+1,a=g(t,o)*Ze+qe+1):(r=g(t,o),a=g(e,o)),r=Math.max(0,r),a=Math.min(Ae,a),a>r&&w(S(0,r,0,a-1))}function S(t,e,n,r){var a=Re.rect(t,e,n,r,ce);return rn(a,ce)}function k(t,e){for(var n=f(G.visStart),r=u(f(n),1),a=0;Ae>a;a++){var o=new Date(Math.max(n,t)),i=new Date(Math.min(r,e));if(i>o){var s=a*Ze+qe,c=Re.rect(0,s,0,s,De),l=L(n,o),d=L(n,i);c.top=l,c.height=d-l,M(rn(c,De))}u(n,1),u(r,1)}}function T(t){return Ie.left(t)}function E(t){return Ie.right(t)}function x(t){return{row:Math.floor(g(t,G.visStart)/7),col:z(t.getDay())}}function O(t){var e=N(t.col),n=t.row;return tn("allDaySlot")&&n--,n>=0&&l(e,Je+n*Ne),e}function N(t){return u(f(G.visStart),t*Ze+qe)}function H(t){return tn("allDaySlot")&&!t.row}function z(t){return(t-Math.max(Be,je)+Ae)%Ae*Ze+qe}function L(t,n){if(t=f(t,!0),l(f(t),Je)>n)return 0;if(n>=l(f(t),Ve))return Me.height();var r=tn("slotMinutes"),a=60*n.getHours()+n.getMinutes()-Je,o=Math.floor(a/r),i=dn[o];return i===e&&(i=dn[o]=Me.find("tr:eq("+o+") td div")[0].offsetTop),Math.max(0,Math.round(i-1+Oe*(a%r/r)))}function R(){return{left:xe,right:Te-Ye}}function W(){return ye}function I(t){var e=f(t.start);return t.allDay?e:l(e,tn("defaultEventMinutes"))}function K(t,e){return e?f(t):l(f(t),tn("slotMinutes"))}function B(t,e,n){n?tn("allDaySlot")&&C(t,u(f(e),1),!0):j(t,e)}function j(e,n){var r=tn("selectHelper");if(Re.build(),r){var a=g(e,G.visStart)*Ze+qe;if(a>=0&&Ae>a){var o=Re.rect(0,a,0,a,De),i=L(e,e),s=L(e,n);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,t.isFunction(r)){var u=r(e,n);u&&(o.position="absolute",o.zIndex=8,ke=t(u).css(o).appendTo(De))}else o.isStart=!0,o.isEnd=!0,ke=t(cn({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},o)),ke.css("opacity",tn("dragOpacity"));ke&&(M(ke),De.append(ke),F(ke,o.width,!0),Y(ke,o.height,!0))}}}else k(e,n)}function U(){an(),ke&&(ke.remove(),ke=null)}function Z(e){if(1==e.which&&tn("selectable")){sn(e);var n;We.start(function(t,e){if(U(),t&&t.col==e.col&&!H(t)){var r=O(e),a=O(t);n=[r,l(f(r),Ne),a,l(f(a),Ne)].sort(P),j(n[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){We.stop(),n&&(+n[0]==+n[1]&&q(n[0],!1,t),on(n[0],n[3],!1,t))})}}function q(t,e,n){en("dayClick",ae[z(t.getDay())],t,e,n)}function $(t,e){We.start(function(t){if(an(),t)if(H(t))S(t.row,t.col,t.row,t.col);else{var e=O(t),n=l(f(e),tn("defaultEventMinutes"));k(e,n)}},e)}function Q(t,e,n){var r=We.stop();an(),r&&en("drop",t,O(r),H(r),e,n)}var G=this;G.renderAgenda=o,G.setWidth=p,G.setHeight=v,G.beforeHide=y,G.afterShow=D,G.defaultEventEnd=I,G.timePosition=L,G.dayOfWeekCol=z,G.dateCell=x,G.cellDate=O,G.cellIsAllDay=H,G.allDayRow=W,G.allDayBounds=R,G.getHoverListener=function(){return We},G.colContentLeft=T,G.colContentRight=E,G.getDaySegmentContainer=function(){return de},G.getSlotSegmentContainer=function(){return we},G.getMinMinute=function(){return Je},G.getMaxMinute=function(){return Ve},G.getBodyContent=function(){return De},G.getRowCnt=function(){return 1},G.getColCnt=function(){return Ae},G.getColWidth=function(){return Fe},G.getSnapHeight=function(){return ze},G.getSnapMinutes=function(){return Ne},G.defaultSelectionEnd=K,G.renderDayOverlay=C,G.renderSelection=B,G.clearSelection=U,G.reportDayClick=q,G.dragStart=$,G.dragStop=Q,le.call(G,n,r,a),he.call(G),fe.call(G),ue.call(G);var te,ee,ne,re,ae,oe,ie,se,ce,de,pe,ye,be,De,we,Me,_e,Ce,Se,ke,Te,Ee,xe,Fe,Ye,Oe,Ne,He,ze,Ae,Le,Re,We,Ie,Ke,Pe,Be,je,Ue,Ze,qe,Je,Ve,Xe,$e,Qe,Ge,tn=G.opt,en=G.trigger,nn=G.clearEvents,rn=G.renderOverlay,an=G.clearOverlays,on=G.reportSelection,sn=G.unselect,un=G.daySelectionMousedown,cn=G.slotSegHtml,ln=r.formatDate,dn={};J(n.addClass("fc-agenda")),Re=new ve(function(e,n){function r(t){return Math.max(u,Math.min(c,t))}var a,o,i;ne.each(function(e,r){a=t(r),o=a.offset().left,e&&(i[1]=o),i=[o],n[e]=i}),i[1]=o+a.outerWidth(),tn("allDaySlot")&&(a=ye,o=a.offset().top,e[0]=[o,o+a.outerHeight()]);for(var s=De.offset().top,u=be.offset().top,c=u+be.outerHeight(),l=0;Le*He>l;l++)e.push([r(s+ze*l),r(s+ze*(l+1))])}),We=new ge(Re),Ie=new me(function(t){return oe.eq(t)})}function ue(){function n(t,e){C(t);var n,r=t.length,i=[],u=[];for(n=0;r>n;n++)t[n].allDay?i.push(t[n]):u.push(t[n]);y("allDaySlot")&&(P(a(i),e),F()),s(o(u),e),b("eventAfterAllRender")}function r(){S(),N().empty(),H().empty()}function a(e){var n,r,a,o,i=E(T(e,t.map(e,_),m.visStart,m.visEnd)),s=i.length,u=[];for(n=0;s>n;n++)for(r=i[n],a=0;r.length>a;a++)o=r[a],o.row=0,o.level=n,u.push(o);return u}function o(e){var n,r,a,o,s,c,d=j(),h=R(),v=L(),g=l(f(m.visStart),h),p=t.map(e,i),y=[];for(n=0;d>n;n++){for(r=E(T(e,p,g,l(f(g),v-h))),ce(r),a=0;r.length>a;a++)for(o=r[a],s=0;o.length>s;s++)c=o[s],c.col=n,c.level=a,y.push(c);u(g,1,!0)}return y}function i(t){return t.end?f(t.end):l(f(t.start),y("defaultEventMinutes"))}function s(n,r){var a,o,i,s,u,l,d,f,v,g,p,m,D,w,M,_,C,S,k,T,E,F,Y=n.length,N="",z={},L={},R=H(),P=j();for((T=y("isRTL"))?(E=-1,F=P-1):(E=1,F=0),a=0;Y>a;a++)o=n[a],i=o.event,s=W(o.start,o.start),u=W(o.start,o.end),l=o.col,d=o.level,f=o.forward||0,v=I(l*E+F),g=K(l*E+F)-v,g=Math.min(g-6,.95*g),p=d?g/(d+f+1):f?2*(g/(f+1)-6):g,m=v+g/(d+f+1)*d*E+(T?g-p:0),o.top=s,o.left=m,o.outerWidth=p,o.outerHeight=u-s,N+=c(i,o);for(R[0].innerHTML=N,D=R.children(),a=0;Y>a;a++)o=n[a],i=o.event,w=t(D[a]),M=b("eventRender",i,i,w),M===!1?w.remove():(M&&M!==!0&&(w.remove(),w=t(M).css({position:"absolute",top:o.top,left:o.left}).appendTo(R)),o.element=w,i._id===r?h(i,w,o):w[0]._fci=a,Q(i,w));for(x(R,n,h),a=0;Y>a;a++)o=n[a],(w=o.element)&&(C=z[_=o.key=q(w[0])],o.vsides=C===e?z[_]=A(w,!0):C,C=L[_],o.hsides=C===e?L[_]=O(w,!0):C,S=w.find(".fc-event-title"),S.length&&(o.contentTop=S[0].offsetTop));for(a=0;Y>a;a++)o=n[a],(w=o.element)&&(w[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",k=Math.max(0,o.outerHeight-o.vsides),w[0].style.height=k+"px",i=o.event,o.contentTop!==e&&10>k-o.contentTop&&(w.find("div.fc-event-time").text(ie(i.start,y("timeFormat"))+" - "+i.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",i,i,w))
}function c(t,e){var n="<",r=t.url,a=$(t,y),o=["fc-event","fc-event-vert"];return D(t)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(t.className),t.source&&(o=o.concat(t.source.className||[])),n+=r?"a href='"+Z(t.url)+"'":"div",n+=" class='"+o.join(" ")+"'"+" style='position:absolute;z-index:8;top:"+e.top+"px;left:"+e.left+"px;"+a+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+Z(se(t.start,t.end,y("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+Z(t.title)+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",e.isEnd&&w(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function d(t,e,n){D(t)&&v(t,e,n.isStart),n.isEnd&&w(t)&&B(t,e,n),k(t,e)}function h(t,e,n){var r=e.find("div.fc-event-time");D(t)&&g(t,e,r),n.isEnd&&w(t)&&p(t,e,r),k(t,e)}function v(t,e,n){function r(){s||(e.width(a).height("").draggable("option","grid",null),s=!0)}var a,o,i,s=!0,c=y("isRTL")?-1:1,l=z(),d=U(),h=J(),v=V(),g=R();e.draggable({zIndex:9,opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(g,p){b("eventDragStart",e,t,g,p),te(t,e),a=e.width(),l.start(function(a,l,g,p){ae(),a?(o=!1,i=p*c,a.row?n?s&&(e.width(d-10),Y(e,h*Math.round((t.end?(t.end-t.start)/Te:y("defaultEventMinutes"))/v)),e.draggable("option","grid",[d,1]),s=!1):o=!0:(re(u(f(t.start),i),u(_(t),i)),r()),o=o||s&&!i):(r(),o=!0),e.draggable("option","revert",o)},g,"drag")},stop:function(n,a){if(l.stop(),ae(),b("eventDragStop",e,t,n,a),o)r(),e.css("filter",""),G(t,e);else{var u=0;s||(u=Math.round((e.offset().top-X().offset().top)/h)*v+g-(60*t.start.getHours()+t.start.getMinutes())),ee(this,t,i,u,s,n,a)}}})}function g(t,e,n){function r(e){var r,a=l(f(t.start),e);t.end&&(r=l(f(t.end),e)),n.text(se(a,r,y("timeFormat")))}function a(){d&&(n.css("display",""),e.draggable("option","grid",[p,m]),d=!1)}var o,i,s,c,d=!1,h=y("isRTL")?-1:1,v=z(),g=j(),p=U(),m=J(),D=V();e.draggable({zIndex:9,scroll:!1,grid:[p,m],axis:1==g?"y":!1,opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(r,l){b("eventDragStart",e,t,r,l),te(t,e),o=e.position(),s=c=0,v.start(function(r,o,s,c){e.draggable("option","revert",!r),ae(),r&&(i=c*h,y("allDaySlot")&&!r.row?(d||(d=!0,n.hide(),e.draggable("option","grid",null)),re(u(f(t.start),i),u(_(t),i))):a())},r,"drag")},drag:function(t,e){s=Math.round((e.position.top-o.top)/m)*D,s!=c&&(d||r(s),c=s)},stop:function(n,u){var c=v.stop();ae(),b("eventDragStop",e,t,n,u),c&&(i||s||d)?ee(this,t,i,d?0:s,d,n,u):(a(),e.css("filter",""),e.css(o),r(0),G(t,e))}})}function p(t,e,n){var r,a,o=J(),i=V();e.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(n,o){r=a=0,te(t,e),e.css("z-index",9),b("eventResizeStart",this,t,n,o)},resize:function(s,u){r=Math.round((Math.max(o,e.height())-u.originalSize.height)/o),r!=a&&(n.text(se(t.start,r||t.end?l(M(t),i*r):null,y("timeFormat"))),a=r)},stop:function(n,a){b("eventResizeStop",this,t,n,a),r?ne(this,t,0,i*r,n,a):(e.css("z-index",8),G(t,e))}})}var m=this;m.renderEvents=n,m.compileDaySegs=a,m.clearEvents=r,m.slotSegHtml=c,m.bindDaySeg=d,de.call(m);var y=m.opt,b=m.trigger,D=m.isEventDraggable,w=m.isEventResizable,M=m.eventEnd,C=m.reportEvents,S=m.reportEventClear,k=m.eventElementHandlers,F=m.setHeight,N=m.getDaySegmentContainer,H=m.getSlotSegmentContainer,z=m.getHoverListener,L=m.getMaxMinute,R=m.getMinMinute,W=m.timePosition,I=m.colContentLeft,K=m.colContentRight,P=m.renderDaySegs,B=m.resizableDayEvent,j=m.getColCnt,U=m.getColWidth,J=m.getSnapHeight,V=m.getSnapMinutes,X=m.getBodyContent,Q=m.reportEventElement,G=m.showEvents,te=m.hideEvents,ee=m.eventDrop,ne=m.eventResize,re=m.renderDayOverlay,ae=m.clearOverlays,oe=m.calendar,ie=oe.formatDate,se=oe.formatDates}function ce(t){var e,n,r,a,o,i;for(e=t.length-1;e>0;e--)for(a=t[e],n=0;a.length>n;n++)for(o=a[n],r=0;t[e-1].length>r;r++)i=t[e-1][r],k(o,i)&&(i.forward=Math.max(i.forward||0,(o.forward||0)+1))}function le(t,n,r){function a(t,e){var n=Y[t];return"object"==typeof n?U(n,e||r):n}function o(t,e){return n.trigger.apply(n,[t,e||C].concat(Array.prototype.slice.call(arguments,2),[C]))}function i(t){return c(t)&&!a("disableDragging")}function s(t){return c(t)&&!a("disableResizing")}function c(t){return G(t.editable,(t.source||{}).editable,a("editable"))}function d(t){E={};var e,n,r=t.length;for(e=0;r>e;e++)n=t[e],E[n._id]?E[n._id].push(n):E[n._id]=[n]}function h(t){return t.end?f(t.end):S(t)}function v(t,e){x.push(e),F[t._id]?F[t._id].push(e):F[t._id]=[e]}function g(){x=[],F={}}function p(t,n){n.click(function(r){return n.hasClass("ui-draggable-dragging")||n.hasClass("ui-resizable-resizing")?e:o("eventClick",this,t,r)}).hover(function(e){o("eventMouseover",this,t,e)},function(e){o("eventMouseout",this,t,e)})}function m(t,e){b(t,e,"show")}function y(t,e){b(t,e,"hide")}function b(t,e,n){var r,a=F[t._id],o=a.length;for(r=0;o>r;r++)e&&a[r][0]==e[0]||a[r][n]()}function D(t,e,n,r,a,i,s){var u=e.allDay,c=e._id;M(E[c],n,r,a),o("eventDrop",t,e,n,r,a,function(){M(E[c],-n,-r,u),T(c)},i,s),T(c)}function w(t,e,n,r,a,i){var s=e._id;_(E[s],n,r),o("eventResize",t,e,n,r,function(){_(E[s],-n,-r),T(s)},a,i),T(s)}function M(t,n,r,a){r=r||0;for(var o,i=t.length,s=0;i>s;s++)o=t[s],a!==e&&(o.allDay=a),l(u(o.start,n,!0),r),o.end&&(o.end=l(u(o.end,n,!0),r)),k(o,Y)}function _(t,e,n){n=n||0;for(var r,a=t.length,o=0;a>o;o++)r=t[o],r.end=l(u(h(r),e,!0),n),k(r,Y)}var C=this;C.element=t,C.calendar=n,C.name=r,C.opt=a,C.trigger=o,C.isEventDraggable=i,C.isEventResizable=s,C.reportEvents=d,C.eventEnd=h,C.reportEventElement=v,C.reportEventClear=g,C.eventElementHandlers=p,C.showEvents=m,C.hideEvents=y,C.eventDrop=D,C.eventResize=w;var S=C.defaultEventEnd,k=n.normalizeEvent,T=n.reportEventChange,E={},x=[],F={},Y=n.options}function de(){function n(t,e){var n,r,u,f,p,m,y,b,D=W(),w=T(),M=E(),_=0,C=t.length;for(D[0].innerHTML=a(t),o(t,D.children()),i(t),s(t,D,e),c(t),l(t),d(t),n=h(),r=0;w>r;r++){for(u=0,f=[],p=0;M>p;p++)f[p]=0;for(;C>_&&(m=t[_]).row==r;){for(y=B(f.slice(m.startCol,m.endCol)),m.top=y,y+=m.outerHeight,b=m.startCol;m.endCol>b;b++)f[b]=y;_++}n[r].height(B(f))}g(t,v(n))}function r(e,n,r){var i,s,u,f=t("<div/>"),p=W(),m=e.length;for(f[0].innerHTML=a(e),i=f.children(),p.append(i),o(e,i),c(e),l(e),d(e),g(e,v(h())),i=[],s=0;m>s;s++)u=e[s].element,u&&(e[s].row===n&&u.css("top",r),i.push(u[0]));return t(i)}function a(t){var e,n,r,a,o,i,s,u,c,l,d=y("isRTL"),f=t.length,h=Y(),v=h.left,g=h.right,p="";for(e=0;f>e;e++)n=t[e],r=n.event,o=["fc-event","fc-event-hori"],D(r)&&o.push("fc-event-draggable"),n.isStart&&o.push("fc-event-start"),n.isEnd&&o.push("fc-event-end"),d?(i=z(n.end.getDay()-1),s=z(n.start.getDay()),u=n.isEnd?N(i):v,c=n.isStart?H(s):g):(i=z(n.start.getDay()),s=z(n.end.getDay()-1),u=n.isStart?N(i):v,c=n.isEnd?H(s):g),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[])),a=r.url,l=$(r,y),p+=a?"<a href='"+Z(a)+"'":"<div",p+=" class='"+o.join(" ")+"'"+" style='position:absolute;z-index:8;left:"+u+"px;"+l+"'"+">"+"<div class='fc-event-inner'>",!r.allDay&&n.isStart&&(p+="<span class='fc-event-time'>"+Z(K(r.start,r.end,y("timeFormat")))+"</span>"),p+="<span class='fc-event-title'>"+Z(r.title)+"</span>"+"</div>",n.isEnd&&w(r)&&(p+="<div class='ui-resizable-handle ui-resizable-"+(d?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),p+="</"+(a?"a":"div")+">",n.left=u,n.outerWidth=c-u,n.startCol=i,n.endCol=s+1;return p}function o(e,n){var r,a,o,i,s,u=e.length;for(r=0;u>r;r++)a=e[r],o=a.event,i=t(n[r]),s=b("eventRender",o,o,i),s===!1?i.remove():(s&&s!==!0&&(s=t(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}function i(t){var e,n,r,a=t.length;for(e=0;a>e;e++)n=t[e],r=n.element,r&&_(n.event,r)}function s(t,e,n){var r,a,o,i,s=t.length;for(r=0;s>r;r++)a=t[r],o=a.element,o&&(i=a.event,i._id===n?I(i,o,a):o[0]._fci=r);x(e,t,I)}function c(t){var n,r,a,o,i,s=t.length,u={};for(n=0;s>n;n++)r=t[n],a=r.element,a&&(o=r.key=q(a[0]),i=u[o],i===e&&(i=u[o]=O(a,!0)),r.hsides=i)}function l(t){var e,n,r,a=t.length;for(e=0;a>e;e++)n=t[e],r=n.element,r&&(r[0].style.width=Math.max(0,n.outerWidth-n.hsides)+"px")}function d(t){var n,r,a,o,i,s=t.length,u={};for(n=0;s>n;n++)r=t[n],a=r.element,a&&(o=r.key,i=u[o],i===e&&(i=u[o]=R(a)),r.outerHeight=a[0].offsetHeight+i)}function h(){var t,e=T(),n=[];for(t=0;e>t;t++)n[t]=F(t).find("div.fc-day-content > div");return n}function v(t){var e,n=t.length,r=[];for(e=0;n>e;e++)r[e]=t[e][0].offsetTop;return r}function g(t,e){var n,r,a,o,i=t.length;for(n=0;i>n;n++)r=t[n],a=r.element,a&&(a[0].style.top=e[r.row]+(r.top||0)+"px",o=r.event,b("eventAfterRender",o,o,a))}function p(e,n,a){var o=y("isRTL"),i=o?"w":"e",s=n.find(".ui-resizable-"+i),c=!1;J(n),n.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),s.mousedown(function(s){function l(n){b("eventResizeStop",this,e,n),t("body").css("cursor",""),v.stop(),j(),d&&k(this,e,d,0,n),setTimeout(function(){c=!1},0)}if(1==s.which){c=!0;var d,h,v=m.getHoverListener(),g=T(),p=E(),y=o?-1:1,D=o?p-1:0,w=n.css("top"),_=t.extend({},e),x=A(e.start);U(),t("body").css("cursor",i+"-resize").one("mouseup",l),b("eventResizeStart",this,e,s),v.start(function(t,n){if(t){var s=Math.max(x.row,t.row),c=t.col;1==g&&(s=0),s==x.row&&(c=o?Math.min(x.col,c):Math.max(x.col,c)),d=7*s+c*y+D-(7*n.row+n.col*y+D);var l=u(M(e),d,!0);if(d){_.end=l;var v=h;h=r(L([_]),a.row,w),h.find("*").css("cursor",i+"-resize"),v&&v.remove(),S(e)}else h&&(C(e),h.remove(),h=null);j(),P(e.start,u(f(l),1))}},s)}})}var m=this;m.renderDaySegs=n,m.resizableDayEvent=p;var y=m.opt,b=m.trigger,D=m.isEventDraggable,w=m.isEventResizable,M=m.eventEnd,_=m.reportEventElement,C=m.showEvents,S=m.hideEvents,k=m.eventResize,T=m.getRowCnt,E=m.getColCnt;m.getColWidth;var F=m.allDayRow,Y=m.allDayBounds,N=m.colContentLeft,H=m.colContentRight,z=m.dayOfWeekCol,A=m.dateCell,L=m.compileDaySegs,W=m.getDaySegmentContainer,I=m.bindDaySeg,K=m.calendar.formatDates,P=m.renderDayOverlay,j=m.clearOverlays,U=m.clearSelection}function fe(){function e(t,e,a){n(),e||(e=u(t,a)),c(t,e,a),r(t,e,a)}function n(t){d&&(d=!1,l(),s("unselect",null,t))}function r(t,e,n,r){d=!0,s("select",null,t,e,n,r)}function a(e){var a=o.cellDate,s=o.cellIsAllDay,u=o.getHoverListener(),d=o.reportDayClick;if(1==e.which&&i("selectable")){n(e);var f;u.start(function(t,e){l(),t&&s(t)?(f=[a(e),a(t)].sort(P),c(f[0],f[1],!0)):f=null},e),t(document).one("mouseup",function(t){u.stop(),f&&(+f[0]==+f[1]&&d(f[0],!0,t),r(f[0],f[1],!0,t))})}}var o=this;o.select=e,o.unselect=n,o.reportSelection=r,o.daySelectionMousedown=a;var i=o.opt,s=o.trigger,u=o.defaultSelectionEnd,c=o.renderSelection,l=o.clearSelection,d=!1;i("selectable")&&i("unselectAuto")&&t(document).mousedown(function(e){var r=i("unselectCancel");r&&t(e.target).parents(r).length||n(e)})}function he(){function e(e,n){var r=o.shift();return r||(r=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(e).show()),r}function n(){for(var t;t=a.shift();)o.push(t.hide().unbind())}var r=this;r.renderOverlay=e,r.clearOverlays=n;var a=[],o=[]}function ve(t){var e,n,r=this;r.build=function(){e=[],n=[],t(e,n)},r.cell=function(t,r){var a,o=e.length,i=n.length,s=-1,u=-1;for(a=0;o>a;a++)if(r>=e[a][0]&&e[a][1]>r){s=a;break}for(a=0;i>a;a++)if(t>=n[a][0]&&n[a][1]>t){u=a;break}return s>=0&&u>=0?{row:s,col:u}:null},r.rect=function(t,r,a,o,i){var s=i.offset();return{top:e[t][0]-s.top,left:n[r][0]-s.left,width:n[o][1]-n[r][0],height:e[a][1]-e[t][0]}}}function ge(e){function n(t){pe(t);var n=e.cell(t.pageX,t.pageY);(!n!=!i||n&&(n.row!=i.row||n.col!=i.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),i=n)}var r,a,o,i,s=this;s.start=function(s,u,c){a=s,o=i=null,e.build(),n(u),r=c||"mousemove",t(document).bind(r,n)},s.stop=function(){return t(document).unbind(r,n),i}}function pe(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function me(t){function n(e){return a[e]=a[e]||t(e)}var r=this,a={},o={},i={};r.left=function(t){return o[t]=o[t]===e?n(t).position().left:o[t]},r.right=function(t){return i[t]=i[t]===e?r.left(t)+n(t).width():i[t]},r.clear=function(){a={},o={},i={}}}var ye={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},be={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},De=t.fullCalendar={version:"1.6.1"},we=De.views={};t.fn.fullCalendar=function(n){if("string"==typeof n){var a,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t.data(this,"fullCalendar");if(r&&t.isFunction(r[n])){var i=r[n].apply(r,o);a===e&&(a=i),"destroy"==n&&t.removeData(this,"fullCalendar")}}),a!==e?a:this}var i=n.eventSources||[];return delete n.eventSources,n.events&&(i.push(n.events),delete n.events),n=t.extend(!0,{},ye,n.isRTL||n.isRTL===e&&ye.isRTL?be:{},n),this.each(function(e,a){var o=t(a),s=new r(o,n,i);o.data("fullCalendar",s),s.render()}),this},De.sourceNormalizers=[],De.sourceFetchers=[];var Me={dataType:"json",cache:!1},_e=1;De.addDays=u,De.cloneDate=f,De.parseDate=m,De.parseISO8601=y,De.parseTime=b,De.formatDate=D,De.formatDates=w;var Ce=["sun","mon","tue","wed","thu","fri","sat"],Se=864e5,ke=36e5,Te=6e4,Ee={s:function(t){return t.getSeconds()},ss:function(t){return j(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return j(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return j(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return j(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return j(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return j(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return 12>t.getHours()?"a":"p"},tt:function(t){return 12>t.getHours()?"am":"pm"},T:function(t){return 12>t.getHours()?"A":"P"},TT:function(t){return 12>t.getHours()?"AM":"PM"},u:function(t){return D(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&20>e?"th":["st","nd","rd"][e%10-1]||"th"},w:function(t,e){return e.weekNumberCalculation(t)},W:function(t){return M(t)}};De.dateFormatters=Ee,De.applyAll=Q,we.month=te,we.basicWeek=ee,we.basicDay=ne,n({weekMode:"fixed"}),we.agendaWeek=oe,we.agendaDay=ie,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery);var bootbox=window.bootbox||function(t,e){function n(t,e){return"undefined"==typeof e&&(e=r),"string"==typeof f[e][t]?f[e][t]:e!=a?n(t,a):t}var r="en",a="en",o=!0,i="static",s="javascript:;",u="",c={},l={},d={};d.setLocale=function(t){for(var e in f)if(e==t)return r=t,void 0;throw new Error("Invalid locale: "+t)},d.addLocale=function(t,e){"undefined"==typeof f[t]&&(f[t]={});for(var n in e)f[t][n]=e[n]},d.setIcons=function(t){l=t,("object"!=typeof l||null===l)&&(l={})},d.setBtnClasses=function(t){c=t,("object"!=typeof c||null===c)&&(c={})},d.alert=function(){var t="",e=n("OK"),r=null;switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"function"==typeof arguments[1]?r=arguments[1]:e=arguments[1];break;case 3:t=arguments[0],e=arguments[1],r=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return d.dialog(t,{label:e,icon:l.OK,"class":c.OK,callback:r},{onEscape:r||!0})},d.confirm=function(){var t="",e=n("CANCEL"),r=n("CONFIRM"),a=null;switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"function"==typeof arguments[1]?a=arguments[1]:e=arguments[1];break;case 3:t=arguments[0],e=arguments[1],"function"==typeof arguments[2]?a=arguments[2]:r=arguments[2];break;case 4:t=arguments[0],e=arguments[1],r=arguments[2],a=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4")}var o=function(){return"function"==typeof a?a(!1):void 0},i=function(){return"function"==typeof a?a(!0):void 0};return d.dialog(t,[{label:e,icon:l.CANCEL,"class":c.CANCEL,callback:o},{label:r,icon:l.CONFIRM,"class":c.CONFIRM,callback:i}],{onEscape:o})},d.prompt=function(){var t="",r=n("CANCEL"),a=n("CONFIRM"),o=null,i="";switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"function"==typeof arguments[1]?o=arguments[1]:r=arguments[1];break;case 3:t=arguments[0],r=arguments[1],"function"==typeof arguments[2]?o=arguments[2]:a=arguments[2];break;case 4:t=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3];break;case 5:t=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],i=arguments[4];break;default:throw new Error("Incorrect number of arguments: expected 1-5")}var s=t,u=e("<form></form>");u.append("<input class='input-block-level' autocomplete=off type=text value='"+i+"' />");var f=function(){return"function"==typeof o?o(null):void 0},h=function(){return"function"==typeof o?o(u.find("input[type=text]").val()):void 0},v=d.dialog(u,[{label:r,icon:l.CANCEL,"class":c.CANCEL,callback:f},{label:a,icon:l.CONFIRM,"class":c.CONFIRM,callback:h}],{header:s,show:!1,onEscape:f});return v.on("shown",function(){u.find("input[type=text]").focus(),u.on("submit",function(t){t.preventDefault(),v.find(".btn-primary").click()})}),v.modal("show"),v},d.dialog=function(n,r,a){function c(){var t=null;"function"==typeof a.onEscape&&(t=a.onEscape()),t!==!1&&_.modal("hide")}var l="",d=[];a||(a={}),"undefined"==typeof r?r=[]:"undefined"==typeof r.length&&(r=[r]);for(var f=r.length;f--;){var h=null,v=null,g=null,p="",m=null;if("undefined"==typeof r[f].label&&"undefined"==typeof r[f]["class"]&&"undefined"==typeof r[f].callback){var y=0,b=null;for(var D in r[f])if(b=D,++y>1)break;1==y&&"function"==typeof r[f][D]&&(r[f].label=b,r[f].callback=r[f][D])}"function"==typeof r[f].callback&&(m=r[f].callback),r[f]["class"]?g=r[f]["class"]:f==r.length-1&&r.length<=2&&(g="btn-primary"),r[f].link!==!0&&(g="btn "+g),h=r[f].label?r[f].label:"Option "+(f+1),r[f].icon&&(p="<i class='"+r[f].icon+"'></i> "),v=r[f].href?r[f].href:s,l="<a data-handler='"+f+"' class='"+g+"' href='"+v+"'>"+p+h+"</a>"+l,d[f]=m}var w=["<div class='bootbox modal' tabindex='-1' style='overflow:hidden;'>"];if(a.header){var M="";("undefined"==typeof a.headerCloseButton||a.headerCloseButton)&&(M="<a href='"+s+"' class='close'>&times;</a>"),w.push("<div class='modal-header'>"+M+"<h3>"+a.header+"</h3></div>")}w.push("<div class='modal-body'></div>"),l&&w.push("<div class='modal-footer'>"+l+"</div>"),w.push("</div>");var _=e(w.join("\n")),C="undefined"==typeof a.animate?o:a.animate;C&&_.addClass("fade");var S="undefined"==typeof a.classes?u:a.classes;return S&&_.addClass(S),_.find(".modal-body").html(n),_.on("keyup.dismiss.modal",function(t){27===t.which&&a.onEscape&&c("escape")}),_.on("click","a.close",function(t){t.preventDefault(),c("close")}),_.on("shown",function(){_.find("a.btn-primary:first").focus()}),_.on("hidden",function(t){t.target===this&&_.remove()}),_.on("click",".modal-footer a",function(t){var n=e(this).data("handler"),a=d[n],o=null;("undefined"==typeof n||"undefined"==typeof r[n].href)&&(t.preventDefault(),"function"==typeof a&&(o=a(t)),o!==!1&&_.modal("hide"))}),e("body").append(_),_.modal({backdrop:"undefined"==typeof a.backdrop?i:a.backdrop,keyboard:!1,show:!1}),_.on("show",function(){e(t).off("focusin.modal")}),("undefined"==typeof a.show||a.show===!0)&&_.modal("show"),_},d.modal=function(){var t,n,r,a={onEscape:null,keyboard:!0,backdrop:i};switch(arguments.length){case 1:t=arguments[0];break;case 2:t=arguments[0],"object"==typeof arguments[1]?r=arguments[1]:n=arguments[1];break;case 3:t=arguments[0],n=arguments[1],r=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return a.header=n,r="object"==typeof r?e.extend(a,r):a,d.dialog(t,[],r)},d.hideAll=function(){e(".bootbox").modal("hide")},d.animate=function(t){o=t},d.backdrop=function(t){i=t},d.classes=function(t){u=t};var f={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"PotwierdÅº"},ru:{OK:"OK",CANCEL:"ÐžÑ‚Ð¼ÐµÐ½Ð°",CONFIRM:"ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"},zh_CN:{OK:"OK",CANCEL:"å–æ¶ˆ",CONFIRM:"ç¡®è®¤"},zh_TW:{OK:"OK",CANCEL:"å–æ¶ˆ",CONFIRM:"ç¢ºèª"}};return d}(document,window.jQuery);window.bootbox=bootbox,function(t){function e(t,e){return function(n){return u(t.call(this,n),e)}}function n(t){return function(e){return this.lang().ordinal(t.call(this,e))}}function r(){}function a(t){i(this,t)}function o(t){var e=this._data={},n=t.years||t.year||t.y||0,r=t.months||t.month||t.M||0,a=t.weeks||t.week||t.w||0,o=t.days||t.day||t.d||0,i=t.hours||t.hour||t.h||0,u=t.minutes||t.minute||t.m||0,c=t.seconds||t.second||t.s||0,l=t.milliseconds||t.millisecond||t.ms||0;this._milliseconds=l+1e3*c+6e4*u+36e5*i,this._days=o+7*a,this._months=r+12*n,e.milliseconds=l%1e3,c+=s(l/1e3),e.seconds=c%60,u+=s(c/60),e.minutes=u%60,i+=s(u/60),e.hours=i%24,o+=s(i/24),o+=7*a,e.days=o%30,r+=s(o/30),e.months=r%12,n+=s(r/12),e.years=n}function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(t){return 0>t?Math.ceil(t):Math.floor(t)}function u(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function c(t,e,n){var r,a=e._milliseconds,o=e._days,i=e._months;a&&t._d.setTime(+t+a*n),o&&t.date(t.date()+o*n),i&&(r=t.date(),t.date(1).month(t.month()+i*n).date(Math.min(r,t.daysInMonth())))}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){var n,r=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(n=0;r>n;n++)~~t[n]!==~~e[n]&&o++;return o+a}function f(t,e){return e.abbr=t,z[t]||(z[t]=new r),z[t].set(e),z[t]}function h(t){return t?(!z[t]&&A&&require("./lang/"+t),z[t]):Y.fn._lang}function v(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function g(t){var e,n,r=t.match(R);for(e=0,n=r.length;n>e;e++)r[e]=ae[r[e]]?ae[r[e]]:v(r[e]);return function(a){var o="";for(e=0;n>e;e++)o+="function"==typeof r[e].call?r[e].call(a,t):r[e];return o}}function p(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var r=5;r--&&W.test(e);)e=e.replace(W,n);return ee[e]||(ee[e]=g(e)),ee[e](t)}function m(t){switch(t){case"DDDD":return P;case"YYYY":return B;case"YYYYY":return j;case"S":case"SS":case"SSS":case"DDD":return K;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return U;case"X":return J;case"Z":case"ZZ":return Z;case"T":return q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return I;default:return new RegExp(t.replace("\\",""))}}function y(t,e,n){var r,a=n._a;switch(t){case"M":case"MM":a[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":r=h(n._l).monthsParse(e),null!=r?a[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(a[2]=~~e);break;case"YY":a[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":a[0]=~~e;break;case"a":case"A":n._isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":a[3]=~~e;break;case"m":case"mm":a[4]=~~e;break;case"s":case"ss":a[5]=~~e;break;case"S":case"SS":case"SSS":a[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,r=(e+"").match(Q),r&&r[1]&&(n._tzh=~~r[1]),r&&r[2]&&(n._tzm=~~r[2]),r&&"+"===r[0]&&(n._tzh=-n._tzh,n._tzm=-n._tzm)}null==e&&(n._isValid=!1)}function b(t){var e,n,r=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];r[3]+=t._tzh||0,r[4]+=t._tzm||0,n=new Date(0),t._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),t._d=n}}function D(t){var e,n,r=t._f.match(R),a=t._i;for(t._a=[],e=0;e<r.length;e++)n=(m(r[e]).exec(a)||[])[0],n&&(a=a.slice(a.indexOf(n)+n.length)),ae[r[e]]&&y(r[e],n,t);t._isPm&&t._a[3]<12&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),b(t)}function w(t){for(var e,n,r,o,s=99;t._f.length;){if(e=i({},t),e._f=t._f.pop(),D(e),n=new a(e),n.isValid()){r=n;break}o=d(e._a,n.toArray()),s>o&&(s=o,r=n)}i(t,r)}function M(t){var e,n=t._i;if(V.exec(n)){for(t._f="YYYY-MM-DDT",e=0;4>e;e++)if($[e][1].exec(n)){t._f+=$[e][0];break}Z.exec(n)&&(t._f+=" Z"),D(t)}else t._d=new Date(n)}function _(e){var n=e._i,r=L.exec(n);n===t?e._d=new Date:r?e._d=new Date(+r[1]):"string"==typeof n?M(e):l(n)?(e._a=n.slice(0),b(e)):e._d=n instanceof Date?new Date(+n):new Date(n)}function C(t,e,n,r,a){return a.relativeTime(e||1,!!n,t,r)}function S(t,e,n){var r=H(Math.abs(t)/1e3),a=H(r/60),o=H(a/60),i=H(o/24),s=H(i/365),u=45>r&&["s",r]||1===a&&["m"]||45>a&&["mm",a]||1===o&&["h"]||22>o&&["hh",o]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",H(i/30)]||1===s&&["y"]||["yy",s];return u[2]=e,u[3]=t>0,u[4]=n,C.apply({},u)}function k(t,e,n){var r=n-e,a=n-t.day();return a>r&&(a-=7),r-7>a&&(a+=7),Math.ceil(Y(t).add("d",a).dayOfYear()/7)}function T(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=h().preparse(e)),Y.isMoment(e)?(t=i({},e),t._d=new Date(+e._d)):n?l(n)?w(t):D(t):_(t),new a(t))}function E(t,e){Y.fn[t]=Y.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),this):this._d["get"+n+e]()}}function x(t){Y.duration.fn[t]=function(){return this._data[t]}}function F(t,e){Y.duration.fn["as"+t]=function(){return+this/e}}for(var Y,O,N="2.0.0",H=Math.round,z={},A="undefined"!=typeof module&&module.exports,L=/^\/?Date\((\-?\d+)/i,R=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,I=/\d\d?/,K=/\d{1,3}/,P=/\d{3}/,B=/\d{1,4}/,j=/[+\-]?\d{1,6}/,U=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,Z=/Z|[\+\-]\d\d:?\d\d/i,q=/T/i,J=/[\+\-]?\d+(\.\d{1,3})?/,V=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,X="YYYY-MM-DDTHH:mm:ssZ",$=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Q=/([\+\-]|\d\d)/gi,G="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),te={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ee={},ne="DDD w W M D d".split(" "),re="M D H h m s w W".split(" "),ae={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(t/60),2)+":"+u(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(10*t/6),4)},X:function(){return this.unix()}};ne.length;)O=ne.pop(),ae[O+"o"]=n(ae[O]);for(;re.length;)O=re.pop(),ae[O+O]=e(ae[O],2);for(ae.DDDD=e(ae.DDD,3),r.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,r;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=Y([2e3,e]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(r.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,r){var a=this._relativeTime[n];return"function"==typeof a?a(t,e,n,r):a.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return k(t,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},Y=function(t,e,n){return T({_i:t,_f:e,_l:n,_isUTC:!1})},Y.utc=function(t,e,n){return T({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},Y.unix=function(t){return Y(1e3*t)},Y.duration=function(t,e){var n,r=Y.isDuration(t),a="number"==typeof t,i=r?t._data:a?{}:t;return a&&(e?i[e]=t:i.milliseconds=t),n=new o(i),r&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},Y.version=N,Y.defaultFormat=X,Y.lang=function(t,e){return t?(e?f(t,e):z[t]||h(t),Y.duration.fn._lang=Y.fn._lang=h(t),void 0):Y.fn._lang._abbr},Y.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),h(t)},Y.isMoment=function(t){return t instanceof a},Y.isDuration=function(t){return t instanceof o},Y.fn=a.prototype={clone:function(){return Y(this)},valueOf:function(){return+this._d
},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return Y.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?Y.utc(this._a):Y(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){var e=p(this,t||Y.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?Y.duration(+e,t):Y.duration(t,e),c(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?Y.duration(+e,t):Y.duration(t,e),c(this,n,-1),this},diff:function(t,e,n){var r,a,o=this._isUTC?Y(t).utc():Y(t).local(),i=6e4*(this.zone()-o.zone());return e&&(e=e.replace(/s$/,"")),"year"===e||"month"===e?(r=432e5*(this.daysInMonth()+o.daysInMonth()),a=12*(this.year()-o.year())+(this.month()-o.month()),a+=(this-Y(this).startOf("month")-(o-Y(o).startOf("month")))/r,"year"===e&&(a/=12)):(r=this-o-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?r/864e5:"week"===e?r/6048e5:r),n?a:s(a)},from:function(t,e){return Y.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(Y(),t)},calendar:function(){var t=this.diff(Y().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<Y([this.year()]).zone()||this.zone()<Y([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},startOf:function(t){switch(t=t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.day(0),this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+Y(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+Y(t).startOf(e)},isSame:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)===+Y(t).startOf(e)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return Y.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=H((Y(this).startOf("day")-Y(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},isoWeek:function(t){var e=k(this,1,4);return null==t?e:this.add("d",7*(t-e))},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},lang:function(e){return e===t?this._lang:(this._lang=h(e),this)}},O=0;O<G.length;O++)E(G[O].toLowerCase().replace(/s$/,""),G[O]);E("year","FullYear"),Y.fn.days=Y.fn.day,Y.fn.weeks=Y.fn.week,Y.fn.isoWeeks=Y.fn.isoWeek,Y.duration.fn=o.prototype={weeks:function(){return s(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,n=S(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},lang:Y.fn.lang};for(O in te)te.hasOwnProperty(O)&&(F(O,te[O]),x(O.toLowerCase()));F("Weeks",6048e5),Y.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),A&&(module.exports=Y),"undefined"==typeof ender&&(this.moment=Y),"function"==typeof define&&define.amd&&define("moment",[],function(){return Y})}.call(this),function(){}.call(this);